<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
    <title>Calculator</title>
</head>
<body>
    <div class="calculator">
        <input autofocus id="equation" class="text-area"></input>
        <div class="input-grid">
            <button onclick="mathFuncs(this)" class="number">sin</button>
            <button onclick="mathFuncs(this)" class="number">cos</button>
            <button onclick="mathFuncs(this)" class="number">tan</button>
            <button onclick="onClear()" class="number">Clear</button>
            <button onclick="mathFuncs(this)" class="number">csc</button>
            <button onclick="mathFuncs(this)" class="number">sec</button>
            <button onclick="mathFuncs(this)" class="number">cot</button>
            <button onclick="onDelete()" class="number">Delete</button>
            <button onclick="mathFuncs(this)" class="number">arcsin</button>
            <button onclick="mathFuncs(this)" class="number">arccos</button>
            <button onclick="mathFuncs(this)" class="number">arctan</button>
            <button onclick="exponent()" class="number">xⁿ</button>
            <button onclick="mathFuncs(this)" class="number">arcctg</button>
            <button onclick="mathFuncs(this)" class="number">log</button>
            <button onclick="mathFuncs(this)" class="number">ln</button>
            <button onclick="onNumber(this)" class="number">+</button>
            <button onclick="onNumber(this)" class="number">(</button>
            <button onclick="onNumber(this)" class="number">)</button>
            <button onclick="onNumber(this)" class="number">e</button>
            <button onclick="onNumber(this)" class="number">-</button>
            <button onclick="onNumber(this)" class="number">7</button>
            <button onclick="onNumber(this)" class="number">8</button>
            <button onclick="onNumber(this)" class="number">9</button>
            <button onclick="mult()" class="number">⨯</button>
            <button onclick="onNumber(this)" class="number">4</button>
            <button onclick="onNumber(this)" class="number">5</button>
            <button onclick="onNumber(this)" class="number">6</button>
            <button onclick="divide()" class="number">÷</button>
            <button onclick="onNumber(this)" class="number">1</button>
            <button onclick="onNumber(this)" class="number">2</button>
            <button onclick="onNumber(this)" class="number">3</button>
            <button onclick="onNumber(this)" class="number">.</button>
            <button class="blank"></button>
            <button onclick="onNumber(this)" class="number">0</button>
            <button class="blank"></button>
            <button onclick="onEnter()" class="number">=</button>
        </div>
    </div>
    <script>
        var equation = document.getElementById("equation");

        equation.addEventListener("keyup", (event) => {
            if(event.keyCode == 27) {
                equation.blur();
            }
        });

        equation.addEventListener("keydown", (event) => {
            if(event.keyCode == 13) {
                onEnter();
            }
        });

        onEnter = () => {
            equation.value = eval(equation.value);
        }

        // might use a switch statement instead
        onClear = () => {
            document.getElementById("equation").value = "";
            document.getElementById("equation").focus();
        }

        onDelete = () => {
            document.getElementById("equation").value = document.getElementById("equation").value.slice(0, -1);
            document.getElementById("equation").focus();
        }
        
        onNumber = (number) => {
            document.getElementById("equation").value += number.textContent;
            document.getElementById("equation").focus();
        }

        mult = () => {
            document.getElementById("equation").value += "*";
            document.getElementById("equation").focus();
        }

        divide = () => {
            document.getElementById("equation").value += "/";
            document.getElementById("equation").focus();
        }

        exponent = () => {
            document.getElementById("equation").value += "**";
            document.getElementById("equation").focus();
        }

        mathFuncs = (func) => {
            document.getElementById("equation").value += func.textContent + "(";
            document.getElementById("equation").focus();
        }

    </script>
</body>
</html>